// TODO: 7/19 - Remove references to section--row after next release. Leaving in
// for now to support patch to IMS theme which still uses a copy of section--row.
.section.section--row, // TODO: Remove after next release
.section.section--grid {
  .wrapper, // TODO: Remove after next release
  .section__inner {
    > .row {
      margin-bottom: -$grid-gutter;
      @include breakpoint($large-mobile){
        margin-bottom: -$grid-gutter * 2;
      }

      > [class*="span-"] {
        @include breakpoint($tablet) {
          margin-bottom: $grid-gutter;
          >.card {
            height: 100%;
            margin-bottom: 0;

            &--link {
              >a {
                display: flex;
                flex-direction: column;
                height: 100%;
              }
            }
          }
        }
        @include breakpoint($large-mobile) {
          margin-bottom: $grid-gutter * 2;
        }
      }

      > .span-auto {
        width: 100%;
         @include breakpoint($tablet) {
           max-width: percentage(6/12);
           flex-basis: percentage(6/12);

            >.card {
              height: 100%;
              margin-bottom: 0;

              &--link {
                >a {
                  display: flex;
                  flex-direction: column;
                  height: 100%;
                }
              }
            }

         }
         @include breakpoint($desktop) {
           max-width: percentage(4/12);
           flex-basis: percentage(4/12);
         }
         @include breakpoint($large-desktop) {
           max-width: percentage(3/12);
           flex-basis: percentage(3/12);
         }
      }
      &.row--gutter-s {
        @include breakpoint($tablet) {
          >[class*='span-'] {
            margin-bottom: $grid-gutter;
          }

          .card--link:hover {
            transform: translateY(-$grid-gutter / 3);
          }
        }
      }

      &.row--gutter-l {
        @include breakpoint($tablet) {
          >[class*='span-'] {
            margin-bottom: $grid-gutter * 3;
          }

          .card--link:hover {
            transform: scale(1.02);
          }
        }
      }
    }
  }
}
